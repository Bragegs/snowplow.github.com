---
layout: post
shortenedlink: Snowplow 62 released
title: Snowplow 62 Tropical Parula released
tags: [snowplow, beanstalk, clojure collector, emretlrunner]
author: Alex
category: Releases
---

We are pleased to announce the immediate availability of Snowplow 62, Tropical Parula. This release is designed to fix an incompatibility issue between r61's EmrEtlRunner and some legacy Elastic Beanstalk configurations. It also includes some other EmrEtlRunner improvements.

Many thanks to Snowplow community member [Dani Sol√†] [danisola] from Simply Business for his contribution to this release!

1. [Fix to support legacy Beanstalk access logs](/blog/2015/03/02/snowplow-r61-pygmy-parrot-released/#emretlrunner-fix)
2. [Other improvements to EmrEtlRunner](/blog/2015/03/02/snowplow-r61-pygmy-parrot-released/#emretlrunner-improvements)
3. [Upgrading](/blog/2015/03/02/snowplow-r61-pygmy-parrot-released/#upgrading)
4. [Getting help](/blog/2015/03/02/snowplow-r61-pygmy-parrot-released/#help)

<h2><a name="emretlrunner-fix">1. Fix to support legacy Beanstalk access logs</a></h2>

After the [release of r61 Pygmy Parrot] [r61-release], we became aware that the updated file handling code for access logs generated by the Clojure Collector did not work with certain legacy Elastic Beanstalk environments, thus:

* Middle portion of access log filename is `tomcat7_rotated` - works fine
* Middle portion of access log filename is `tomcat8_rotated` - works fine
* Middle portion of access log filename is `tomcat7` - EmrEtlRunner does not move logs to Staging bucket

This is an easy issue to diagnose: if it affects you, then following an upgrade to r61 Pygmy Parrot, your Snowplow pipeline will generate **no** enriched events.

In r62 we have fixed this issue ([#1480] [issue-1480]) - EmrEtlRunner now supports all Clojure Collector access log filename formats again.

<h2><a name="emretlrunner-improvements">2. EmrEtlRunner improvements</a></h2>



<h2><a name="upgrading">3. Upgrading</a></h2>

<div class="html">
<h3><a name="upgrading-emretlrunner">3.1 Upgrading your EmrEtlRunner</a></h3>
</div>

You need to update EmrEtlRunner to the latest code (**0.13.0**) on GitHub:

{% highlight bash %}
$ git clone git://github.com/snowplow/snowplow.git
$ git checkout r62-tropical-parula
$ cd snowplow/3-enrich/emr-etl-runner
$ bundle install --deployment
$ cd ../../4-storage/storage-loader
$ bundle install --deployment
{% endhighlight %}

You **must** also update your EmrEtlRunner's configuration file, or else you will get a Contract failure on start. See the next section for details.

<div class="html">
<h3><a name="configuring-emretlrunner">3.2 Updating your EmrEtlRunner's configuration</a></h3>
</div>

Whether or not you use the new bootstrap option, you must update your EmrEtlRunner's `config.yml` file to include an entry for it:

In the `:emr:` section of your EmrEtlRunner's `config.yml` file, add in a `:bootstrap:` property like so:

{% highlight yaml %}
:emr:
  ...
  :ec2_key_name: ADD HERE
  :bootstrap: []          # No custom boostrap actions
  :software:
    ...
{% endhighlight %}

For a complete example, see our [sample `config.yml` template] [emretlrunner-config-yml].

<h2><a name="help">4. Getting help</a></h2>

For more details on this release, please check out the [r62 Tropical Parula Release Notes] [r62-release] on GitHub. 

If you have any questions or run into any problems, please [raise an issue] [issues] or get in touch with us through [the usual channels] [talk-to-us].

[danisola]: https://github.com/danisola

[issue-1480]: https://github.com/snowplow/snowplow/issues/1480

[emretlrunner-config-yml]: https://github.com/snowplow/snowplow/blob/master/3-enrich/emr-etl-runner/config/config.yml.sample

[r61-release]: /blog/2015/03/02/snowplow-r61-pygmy-parrot-released
[r62-release]: https://github.com/snowplow/snowplow/releases/tag/r62-tropical-parula
[issues]: https://github.com/snowplow/snowplow/issues
[talk-to-us]: https://github.com/snowplow/snowplow/wiki/Talk-to-us

